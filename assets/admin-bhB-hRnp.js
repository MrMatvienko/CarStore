import{a as d,l,d as m}from"./api-C3CmvgoN.js";function c(){const t=document.querySelector(".form_add-car");t.addEventListener("submit",async a=>{a.preventDefault();const e=new FormData;e.append("title",document.getElementById("title-car").value.trim()),e.append("price",document.getElementById("price").value),e.append("brand",document.getElementById("brand").value.trim().toUpperCase()),e.append("mileage",document.getElementById("mileage").value),e.append("year",document.getElementById("year").value);const n=document.getElementById("images").files;if(n.length===0){alert("Select one or more car photos!");return}for(let o=0;o<n.length;o++)e.append("images",n[o]);try{await d(e),alert("Succes add new car!"),t.reset()}catch{alert("Sorry add error")}})}function u(){const t=document.getElementById("authForm"),a=document.getElementById("authModal");!t||!a||t.addEventListener("submit",async e=>{e.preventDefault();const r=document.getElementById("password").value.trim();try{await l(r),localStorage.setItem("admin-auth","true"),a.style.display="none"}catch(n){alert(n.message),console.error(n)}})}function i(){const t=document.querySelector(".form_delete");t.addEventListener("submit",async a=>{a.preventDefault();const e=document.getElementById("article").value.trim();try{await m(e),alert("SUCCESS"),t.reset()}catch(r){console.log(r)}})}document.addEventListener("DOMContentLoaded",()=>{if(u(),!(localStorage.getItem("admin-auth")==="true")){console.warn("Admin not authenticated");return}c(),i()});
